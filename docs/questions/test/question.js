(()=>{const e="lrn-test-question";class t{constructor(e,t){this.init=e,this.events=e.events,this.lrnUtils=t,this.el=e.$el.get(0),this.componentStates={},this.render().then(()=>{this.registerPublicMethods(),this.registerEventsListener(),"review"===e.state&&e.getFacade().disable(),e.events.trigger("ready")})}render(){return this.el.innerHTML=`\n      <div class="${e} lrn-response-validation-wrapper">\n        <div class="${e}-root"></div>\n      </div>\n    `,Promise.all([]).then(()=>{this.renderComponent()})}renderComponent(t={}){const n=this.el.querySelector(`.${e}-root`);n.innerHTML=`\n      <div>\n        ${"review"===this.init.state?`\n          <div>\n            <div>given answer: ${this.init.response}</div>\n            <div>correct answer: ${this.init.question.valid_response?.value}</div>\n          </div>\n        `:'<input type="text">'}\n      </div>\n    `,"review"!==this.init.state&&n.querySelector("input").addEventListener("change",e=>{this.onValueChange(e.target.value)})}onValueChange=e=>{this.componentStates.resetState&&this.renderComponent({resetState:"attemptedAfterReset"}),this.events.trigger("changed",e)};resetValidationUIState=()=>{this.renderComponent({validationUIState:""})};registerPublicMethods(){const e=this.init.getFacade();e.disable=()=>{this.renderComponent({disabled:!0})},e.enable=()=>{this.renderComponent({disabled:!1})},e.resetResponse=()=>{this.events.trigger("resetResponse"),this.renderComponent({resetState:"reset"})}}registerEventsListener(){this.onValidateListener()}onValidateListener(){const e=this.init.getFacade();this.init.events.on("validate",()=>{const t=e.isValid();this.renderComponent({validationUIState:t?"correct":"incorrect"})})}}LearnosityAmd.define([],()=>({Question:t}))})();